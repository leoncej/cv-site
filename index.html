<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reece Hamilton - Game Developer</title>
    <style>
      * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
      }

      body {
          font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
          background-color: #1e1e1e;
          color: #d4d4d4;
          line-height: 1.4;
          font-size: 14px;
          overflow-x: hidden;
          /* Allow the body to handle the main scroll */
          overflow-y: scroll;
      }

      .container {
          /* FIX: Revert to grid layout for flowing content */
          display: grid;
          /* Default layout for smaller screens */
          grid-template-columns: 240px 1fr;
          max-width: 1400px; /* This will be overridden in the 900px media query */
          margin: 0 auto; /* This will be overridden in the 900px media query */
      }

      /* Left Sidebar */
      .sidebar {
          background-color: #252526;
          padding: 30px 20px;
          border-right: 1px solid #3e3e42;

          /* FIX: Remove fixed/sticky positioning so it scrolls with the content */
          position: static;
          height: auto;
          overflow-y: visible;
      }

      .profile-section {
          margin-bottom: 40px;
      }

      .profile-img-wrapper {
          position: relative;
          margin-bottom: 10px;
      }

      .img-tag {
          color: #808080;
          font-size: 12px;
          margin-bottom: 5px;
      }

      .profile-img {
          width: 100%;
          height: auto;
          border: 2px solid #3e3e42;
          display: block;
      }

      .section {
          margin-bottom: 35px;
          position: relative;
      }

      .section .brace-container {
          position: relative;
      }

      .section .brace-line {
          position: absolute;
          left: 2px;
          top: 20px;
          bottom: 20px;
          width: 1px;
          background-color: #3e3e42;
      }

      .section-title {
          color: #4ec9b0;
          font-size: 15px;
          margin-bottom: 12px;
          font-weight: bold;
      }

      .enum-keyword {
          color: #569cd6;
          font-size: 12px;
      }

      .brace {
          color: #d4d4d4;
          margin-left: 0;
      }

      .list-item {
          color: #d4d4d4;
          padding-left: 20px;
          margin: 4px 0;
          font-size: 13px;
      }

      .comment {
          color: #6a9955;
          font-style: italic;
          font-size: 11px;
          padding-left: 20px;
          margin-top: 2px;
      }

      /* Main Content */
      .main-content {
          padding: 30px 40px;
          /* FIX: Remove fixed height and overflow so content flows and causes body scroll */
          overflow-y: visible;
          height: auto;
          margin-left: 0;
      }

      .code-comment {
          color: #6a9955;
          margin-bottom: 2px;
          line-height: 1.3;
      }

      .class-declaration {
          margin-bottom: 25px;
          margin-top: 50px;
          position: relative;
      }

      .class-body {
          position: relative;
      }

      .class-brace-line {
          position: absolute;
          left: 2px;
          top: 0;
          bottom: 0;
          width: 1px;
          background-color: #3e3e42;
      }

      .keyword {
          color: #569cd6;
      }

      .class-name {
          color: #4ec9b0;
          font-weight: bold;
          font-size: 18px;
      }

      .property {
          margin-left: 20px;
          margin-bottom: 4px;
      }

      .property-name {
          color: #9cdcfe;
      }

      .string {
          color: #ce9178;
      }

      .number {
          color: #b5cea8;
      }

      .boolean {
          color: #569cd6;
      }

      .array-bracket {
          color: #d4d4d4;
      }

      .method {
          margin-left: 20px;
          margin-bottom: 6px;
          position: relative;
      }

      .method-body {
          position: relative;
      }

      .method-brace-line {
          position: absolute;
          left: 2px;
          top: 0;
          bottom: 0;
          width: 1px;
          background-color: #3e3e42;
      }

      .method-name {
          color: #dcdcaa;
      }

      .type {
          color: #4ec9b0;
      }

      .variable {
          color: #9cdcfe;
      }

      .new-keyword {
          color: #569cd6;
      }

      .property-access {
          color: #9cdcfe;
      }

      .multiline-comment {
          color: #6a9955;
          font-style: italic;
          font-size: 12px;
          margin: 10px 0 10px 20px;
          line-height: 1.5;
      }

      .footer {
        height: 100px;
        padding-top: 80px;
        text-align: center;
        font-size: 12px;
        color: #808080;
      }

      /* Download CV Button Styling (Fixed, next to minimap) */
      .download-button {
          position: fixed;
          top: 20px;
          right: 170px; /* 150px minimap width + 20px gap */
          background-color: #252526;
          color: #d4d4d4;
          padding: 8px 12px;
          text-decoration: none;
          font-size: 14px;
          font-weight: bold;
          border: 1px solid #4ec9b0;
          border-radius: 3px;
          z-index: 20;
          transition: background-color 0.2s, color 0.2s;
          display: none;
      }

      .download-button:hover {
          background-color: #4ec9b0;
          color: #1e1e1e;
      }

      /* Right Minimap Sidebar (Fixed) */
      .minimap-sidebar {
          background-color: #1e1e1e;
          padding: 20px 0;
          border-left: 1px solid #3e3e42;
          position: fixed;
          right: 0;
          top: 0;
          height: 100vh;
          width: 150px;
          display: none;
          z-index: 10;
      }

      .minimap-window {
          width: 130px;
          height: calc(100vh - 40px);
          margin: 0 auto;
          position: relative;
          overflow: hidden;
          border: 1px solid #3e3e42;
          background-color: #252526;
      }

      .minimap-content {
          transform-origin: top left;
          transform: scale(0.18);
          pointer-events: none;
          background-color: transparent !important;
          padding: 0 !important;
          margin-left: 0 !important;
      }

      .minimap-highlight {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          background-color: rgba(78, 201, 176, 0.3);
          border: 1px solid #4ec9b0;
          box-sizing: border-box;
          pointer-events: none;
          transition: transform 0.1s linear, height 0.1s linear;
      }

      /* Responsive Design Update */
      @media (min-width: 900px) {
          /* Show minimap sidebar and button on viewports 900px and wider */
          .minimap-sidebar, .download-button {
              display: block;
          }

          .container {
              display: grid;
              /* Left Sidebar (240px) | Main Content (Takes the remaining space) */
              grid-template-columns: 240px 1fr;

              /* FIX 1: Remove centering and width limits to allow full width scaling */
              max-width: none;
              margin: 0;
          }

          /* FIX 2: Constrain the main content for readability and prevent it from touching the minimap */
          .main-content {
              /* Base padding is 30px top/bottom, 40px left/right.
                 We now override the right padding to ensure it clears the 150px fixed minimap. */
              padding-right: 170px;

              /* Optional: Set a generous max-width for readability on large screens */
              max-width: 1200px;
          }
      }

      @media (max-width: 900px) {
        /* On smaller screens, the container remains a two-column grid (240px 1fr) and centered */
        .container {
            grid-template-columns: 240px 1fr;
            max-width: 1400px;
        }

        .main-content {
            /* Revert padding on smaller screens */
            padding-right: 40px;
            max-width: none;
        }
      }

      @media (max-width: 768px) {
          .container {
              grid-template-columns: 1fr;
          }

          .sidebar {
              border-right: none;
              border-bottom: 1px solid #3e3e42;
          }

          .main-content {
              padding: 20px;
              padding-right: 20px; /* Ensure mobile padding is also clean */
          }

          body {
              font-size: 12px;
          }
      }

    </style>
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="profile-section">
                <div class="img-tag">&lt;img&gt;</div>
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Crect fill='%23333' width='200' height='200'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='%23666' font-size='16' font-family='Arial'%3EProfile Photo%3C/text%3E%3C/svg%3E" alt="Profile" class="profile-img">
                <div class="img-tag">&lt;/img&gt;</div>
            </div>
            <div class="section">
                <div class="enum-keyword">public enum</div>
                <div class="section-title">PLATFORMS()</div>
                <div class="brace">{</div>
                <div class="brace-container">
                    <div class="brace-line"></div>
                    <div class="list-item">Linux,</div>
                    <div class="list-item">MacOS,</div>
                    <div class="list-item">Windows</div>
                    <div class="list-item">Mobile</div>
                </div>
                <div class="brace">}</div>
            </div>

            <div class="section">
                <div class="enum-keyword">public enum</div>
                <div class="section-title">LANGUAGES()</div>
                <div class="brace">{</div>
                <div class="brace-container">
                    <div class="brace-line"></div>
                    <div class="list-item">C#,C++,Python,</div>
                    <div class="list-item">Java,Bash,HTML5</div>
                    <div class="list-item">SCSS,JavaScript</div>
                </div>
                <div class="brace">}</div>
            </div>

            <div class="section">
                <div class="enum-keyword">public enum</div>
                <div class="section-title">SOFTWARE()</div>
                <div class="brace">{</div>
                <div class="brace-container">
                    <div class="brace-line"></div>
                    <div class="list-item">Unity3D,</div>
                    <div class="list-item">UnrealEngine,</div>
                    <div class="list-item">GodotU,VisualStudio,</div>
                    <div class="list-item">Jetbrains,PhotoShop,</div>
                    <div class="list-item">GoogleSuite,Blender,</div>
                    <div class="list-item">AdobePremier,</div>
                    <div class="list-item">AdobeSubstancePainter,</div>
                    <div class="list-item">AdobeSubstance3D</div>
                </div>
                <div class="brace">}</div>
            </div>

            <div class="section">
                <div class="enum-keyword">public enum</div>
                <div class="section-title">MEDIA()</div>
                <div class="brace">{</div>
                <div class="brace-container">
                    <div class="brace-line"></div>
                    <div class="list-item">LinkedIn,</div>
                    <div class="comment">//in/Reece-Hamilton</div>
                    <div class="list-item">GitHub,</div>
                    <div class="comment">//github.com/ReeceHamilton</div>
                    <div class="list-item">Stack Overflow</div>
                    <div class="comment">//stackoverflow.com/users/<br>reecehamilton</div>
                </div>
                <div class="brace">}</div>
            </div>

            <div class="section">
                <div class="enum-keyword">public enum</div>
                <div class="section-title">PROFILE()</div>
                <div class="brace">{</div>
                <div class="brace-container">
                    <div class="brace-line"></div>
                    <div class="list-item">AMBITIOUS,</div>
                    <div class="list-item">METHODICAL,</div>
                    <div class="list-item">PRECISE,</div>
                    <div class="list-item">PUNCTUAL,</div>
                    <div class="list-item">ENTHUSIASTIC,</div>
                    <div class="list-item">DETERMINED</div>
                </div>
                <div class="brace">}</div>
            </div>

            <div class="section">
                <div class="enum-keyword">public enum</div>
                <div class="section-title">REFERENCES()</div>
                <div class="brace">{</div>
                <div class="brace-container">
                    <div class="brace-line"></div>
                    <div class="list-item">Senior Software Engineer, Acme</div>
                    <div class="comment">//+44(0)7594410123</div>
                    <div class="list-item">Mentor, Epic Games</div>
                    <div class="comment">//+44(0)7594410123</div>
                </div>
                <div class="brace">}</div>
            </div>
        </aside>

        <main class="main-content">
            <div class="code-comment">/// &lt;summary&gt;</div>
            <div class="code-comment">/// Specialise in game programming in C++ using Unity3D</div>
            <div class="code-comment">/// or Unreal Engine. Have a Masters Degree in Game Programming</div>
            <div class="code-comment">/// and 2 years industry experience. Available IMMEDIATELY.</div>
            <div class="code-comment">/// &lt;\summary&gt;</div>

            <div class="class-declaration">
                <div><span class="keyword">public class</span> <span class="class-name">INFORMATION</span></div>
                <div class="brace">{</div>
                <div class="class-body">
                    <div class="class-brace-line"></div>
                    <div class="property">
                        <span class="keyword">public string</span> <span class="property-name">NAME</span> = <span class="string">"Reece Hamilton"</span>;
                    </div>
                    <div class="property">
                        <span class="keyword">public int</span> <span class="property-name">AGE</span> = <span class="number">26</span>;
                    </div>
                    <div class="property">
                        <span class="keyword">public string</span> <span class="property-name">ROLE</span> = <span class="string">"Game Developer"</span>;
                    </div>
                    <div class="property">
                        <span class="keyword">public string</span> <span class="property-name">EMAIL</span> = <span class="string">"reece.hamilton@gmail.com"</span>;
                    </div>
                    <div class="property">
                        <span class="keyword">public int</span> <span class="property-name">MOBILE</span> = <span class="number">07594410123</span>;
                    </div>
                    <div class="property">
                        <span class="keyword">public string[]</span> <span class="property-name">LOCATION</span> = <span class="array-bracket">{</span><span class="string">"1 Madeup Street"</span>, <span class="string">"Cambourne"</span>, <span class="string">"Cambridgeshire"</span>, <span class="string">"CB23 1AB"</span><span class="array-bracket">}</span>;
                    </div>
                    <div class="property">
                        <span class="keyword">public bool</span> <span class="property-name">DRIVERS_LICENSE</span> = <span class="boolean">true</span>;
                    </div>
                </div>
                <div class="brace">}</div>
            </div>

            <div class="class-declaration">
                <div><span class="keyword">public static class</span> <span class="class-name">EXPERIENCE</span></div>
                <div class="brace">{</div>
                <div class="class-body">
                    <div class="class-brace-line"></div>
                    <div class="method">
                        <span class="keyword">public void</span> <span class="method-name">AcmeGameStudios</span>()
                    </div>
                    <div class="brace" style="margin-left: 20px;">{</div>
                    <div class="method-body" style="margin-left: 20px;">
                        <div class="method-brace-line"></div>
                        <div class="property" style="margin-left: 20px;">
                            <span class="keyword">var</span> <span class="variable">_Duration</span> = <span class="type">Range</span>(start: <span class="type">January 2024</span>, end: <span class="type">NULL</span>);
                        </div>
                        <div class="property" style="margin-left: 20px;">
                            <span class="keyword">var</span> <span class="variable">_Link</span> = <span class="new-keyword">new</span> <span class="type">URL</span>(<span class="string">"https://www.asterigos.com/en"</span>);
                        </div>
                        <div class="property" style="margin-left: 20px;">
                            <span class="keyword">var</span> <span class="variable">_Role</span> = <span class="new-keyword">new</span> <span class="type">JuniorGameDeveloper</span>;
                        </div>
                        <div class="multiline-comment">
                            /*Worked within a small development team to build and maintain a<br>
                            real-time strategy game for PC, contributing to core gameplay systems,<br>
                            bug fixes, and feature updates. Developed and implemented core gameplay<br>
                            mechanics and features using Unity and C#, ensuring alignment with the<br>
                            game design documents. Collaborated with artists and designers to integrate<br>
                            visual assets, animations, and sound effects, enhancing overall player<br>
                            immersion.*/
                        </div>
                    </div>
                    <div class="brace" style="margin-left: 20px;">}</div>

                    <div class="method" style="margin-top: 15px;">
                        <span class="keyword">public void</span> <span class="method-name">EpicGames</span>()
                    </div>
                    <div class="brace" style="margin-left: 20px;">{</div>
                    <div class="method-body" style="margin-left: 20px;">
                        <div class="method-brace-line"></div>
                        <div class="property" style="margin-left: 20px;">
                            <span class="keyword">var</span> <span class="variable">_Duration</span> = <span class="type">Range</span>(start: <span class="type">August 2023</span>, end: <span class="type">December 2023</span>);
                        </div>
                        <div class="property" style="margin-left: 20px;">
                            <span class="keyword">var</span> <span class="variable">_Link</span> = <span class="new-keyword">new</span> <span class="type">URL</span>(<span class="string">"https://store.epicgames.com/"</span>);
                        </div>
                        <div class="property" style="margin-left: 20px;">
                            <span class="keyword">var</span> <span class="variable">_Type</span> = <span class="new-keyword">new</span> <span class="type">Internship</span>;
                        </div>
                        <div class="multiline-comment">
                            /*Identified, logged, and resolved over 100 bugs and technical issues<br>
                            in the game code, working closely with the QA team to improve stability<br>
                            and user experience. Participated in regular team meetings (sprint<br>
                            planning, daily stand-ups) within an Agile development methodology,<br>
                            contributing to project roadmapping and efficient workflow. Utilized Git<br>
                            for version control, source code management, and collaborative development<br>
                            workflows, participating in routine code review sessions.*/
                        </div>
                    </div>
                    <div class="brace" style="margin-left: 20px;">}</div>

                    <div class="method" style="margin-top: 15px;">
                        <span class="keyword">public void</span> <span class="method-name">PersonalProject</span>()
                    </div>
                    <div class="brace" style="margin-left: 20px;">{</div>
                    <div class="method-body" style="margin-left: 20px;">
                        <div class="method-brace-line"></div>
                        <div class="property" style="margin-left: 20px;">
                            <span class="keyword">var</span> <span class="variable">_Type</span> = <span class="new-keyword">new</span> <span class="type">Project</span>;
                        </div>
                        <div class="multiline-comment">
                            /*Developing a 2D, physics-based platformer game using<br>
                            industry-standard tools and programming languages to deepen expertise<br>
                            in game engine architecture and low-level programming. This project<br>
                            involves self-managing the entire development lifecycle, from initial<br>
                            game design documentation and art asset creation to implementing<br>
                            complex features such as dynamic lighting, custom character movement<br>
                            controllers, and robust save-game systems. Currently in alpha testing,<br>
                            this project has served as a practical sandbox for mastering performance<br>
                            optimization techniques and advanced programming concepts outside of<br>
                            commercial constraints.*/
                        </div>
                    </div>
                    <div class="brace" style="margin-left: 20px;">}</div>
                </div>
                <div class="brace">}</div>
            </div>

            <div class="class-declaration">
                <div><span class="keyword">public partial class</span> <span class="class-name">EDUCATION</span> : <span class="type">Higher Education Institutions</span></div>
                <div class="brace">{</div>
                <div class="class-body">
                    <div class="class-brace-line"></div>
                    <div class="method">
                        <span class="keyword">private void</span> <span class="method-name">AngliaRuskinUniversity</span>()
                    </div>
                    <div class="brace" style="margin-left: 20px;">{</div>
                    <div class="method-body" style="margin-left: 20px;">
                        <div class="method-brace-line"></div>
                        <div class="property" style="margin-left: 20px;">
                            <span class="keyword">var</span> <span class="variable">_Qualification</span> = <span class="type">Master's</span>; <span class="code-comment">// For a duration of 2 years</span>
                        </div>
                        <div class="property" style="margin-left: 20px;">
                            <span class="keyword">var</span> <span class="variable">_Date</span> = <span class="new-keyword">new</span> <span class="type">Range</span>(start: <span class="type">September 2021</span>, end: <span class="type">June 2023</span>);
                        </div>
                        <div class="property" style="margin-left: 20px;">
                            <span class="keyword">var</span> <span class="variable">_Type</span> = <span class="type">Game</span>.<span class="property-access">Programmer</span>();
                        </div>
                        <div class="property" style="margin-left: 20px;">
                            <span class="keyword">var</span> <span class="variable">_Modules</span> = <span class="array-bracket">{</span><span class="string">"OOP and Graphics (2D and 3D)"</span>, <span class="string">"Data Structures"</span>, <span class="string">"Advanced Rendering"</span><span class="array-bracket">}</span>;
                        </div>
                        <div class="property" style="margin-left: 20px;">
                            <span class="keyword">var</span> <span class="variable">_Obtained</span> = <span class="string">"July 2023"</span>;
                        </div>
                    </div>
                    <div class="brace" style="margin-left: 20px;">}</div>

                    <div class="method" style="margin-top: 15px;">
                        <span class="keyword">private void</span> <span class="method-name">AngliaRuskinUniversity</span>(<span class="keyword">string[]</span> <span class="variable">_Diplomas</span>)
                    </div>
                    <div class="brace" style="margin-left: 20px;">{</div>
                    <div class="method-body" style="margin-left: 20px;">
                        <div class="method-brace-line"></div>
                        <div class="property" style="margin-left: 20px;">
                            <span class="keyword">var</span> <span class="variable">_Qualification</span> = <span class="type">Bachelor of Science</span>; <span class="code-comment">// For a duration of 3 years</span>
                        </div>
                        <div class="property" style="margin-left: 20px;">
                            <span class="keyword">var</span> <span class="variable">_Date</span> = <span class="new-keyword">new</span> <span class="type">Range</span>(start: <span class="type">September 2018</span>, end: <span class="type">June 2021</span>);
                        </div>
                        <div class="property" style="margin-left: 20px;">
                            <span class="keyword">var</span> <span class="variable">_Type</span> = <span class="type">Game</span>.<span class="property-access">Design</span>();
                        </div>
                        <div class="property" style="margin-left: 20px;">
                            <span class="keyword">var</span> <span class="variable">_Diplomas</span> = <span class="array-bracket">{</span><span class="string">"Digital Design Engineer"</span>, <span class="string">"Games Design - Level 3"</span><span class="array-bracket">}</span>;
                        </div>
                        <div class="property" style="margin-left: 20px;">
                            <span class="keyword">var</span> <span class="variable">_Obtained</span> = <span class="string">"July 2021"</span>;
                        </div>
                    </div>
                    <div class="brace" style="margin-left: 20px;">}</div>
                </div>
                <div class="brace">}</div>
            </div>

            <div class="footer">
              Powered by Online CV Pro
            </div>
        </main>

        <a href="#" class="download-button">Download CV</a>

        <aside class="minimap-sidebar">
          <div class="minimap-window"></div>
        </aside>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Get references
            const mainContent = document.querySelector('.main-content');
            const minimapWindow = document.querySelector('.minimap-window');
            const SCALE_FACTOR = 0.18;

            if (!minimapWindow || !mainContent) return;

            // 1. Initial Measurement of Main Content's Full Height
            const tempDiv = document.createElement('div');
            tempDiv.style.visibility = 'hidden';
            tempDiv.style.position = 'absolute';
            // Use clientWidth for accurate width calculation
            tempDiv.style.width = mainContent.clientWidth + 'px';
            tempDiv.innerHTML = mainContent.innerHTML;
            document.body.appendChild(tempDiv);

            const fullContentHeight = tempDiv.scrollHeight;
            document.body.removeChild(tempDiv);

            // 2. Clone and Prepare Content
            const clonedContent = mainContent.cloneNode(true);
            clonedContent.classList.add('minimap-content');
            clonedContent.classList.remove('main-content');

            // Set the *unscaled* height and width of the cloned content
            clonedContent.style.height = fullContentHeight + 'px';
            clonedContent.style.width = mainContent.clientWidth + 'px';

            // Clean up cloned content
            const minimapClone = clonedContent.querySelector('.minimap-sidebar');
            if (minimapClone) minimapClone.remove();
            const footerClone = clonedContent.querySelector('.footer');
            if (footerClone) footerClone.remove();
            // Remove the download button from the clone
            const downloadButtonClone = clonedContent.querySelector('.download-button');
            if (downloadButtonClone) downloadButtonClone.remove();

            minimapWindow.appendChild(clonedContent);

            // 3. Create the highlight element
            const highlightBox = document.createElement('div');
            highlightBox.classList.add('minimap-highlight');
            minimapWindow.appendChild(highlightBox);

            // 4. Update minimap highlight on scroll
            function updateMinimapHighlight() {
                // FIX: Use window/document dimensions for global page scroll
                const pageScrollTop = window.scrollY || document.documentElement.scrollTop;
                const viewportHeight = window.innerHeight;

                // Use document.documentElement for total scrollable size
                const totalPageHeight = document.documentElement.scrollHeight;

                // Minimap dimensions
                const minimapHeight = minimapWindow.clientHeight;

                // --- A. Highlight Height and Position ---

                // Ratio of visible height to total scrollable height
                const visibleProportion = viewportHeight / totalPageHeight;
                let highlightHeight = minimapHeight * visibleProportion;

                // Total scrollable distance for the whole page
                const totalScrollDistance = totalPageHeight - viewportHeight;

                // Total distance the highlight box can move in the minimap
                const totalHighlightMoveDistance = minimapHeight - highlightHeight;

                // Calculate the scroll ratio
                const scrollRatio = totalScrollDistance > 0
                    ? pageScrollTop / totalScrollDistance
                    : 0;

                // Calculate the top position of the highlight box
                let highlightTop = totalHighlightMoveDistance * scrollRatio;

                // Apply styles to the highlight box
                highlightBox.style.height = highlightHeight + 'px';
                highlightBox.style.transform = `translateY(${highlightTop}px)`;

                // --- B. Scroll Minimap Content ---

                // Total distance the minimap content needs to shift is the scaled page scroll top
                const minimapShiftTop = pageScrollTop * SCALE_FACTOR;

                // Apply the necessary negative margin (shift) to the cloned content
                clonedContent.style.marginTop = `-${minimapShiftTop}px`;
            }

            // Initial call and attach event listeners
            setTimeout(updateMinimapHighlight, 100);

            // FIX: Listen for scroll events on the window (main page scroll)
            window.addEventListener('scroll', updateMinimapHighlight);
            window.addEventListener('resize', updateMinimapHighlight);
        });
    </script>
</body>
</html>
